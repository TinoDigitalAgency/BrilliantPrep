(window.webpackJsonp__wpex_nextgen=window.webpackJsonp__wpex_nextgen||[]).push([[20],{104:function(e,t,n){}}]),window.nextgen=window.nextgen||{},window.nextgen.updateDependency=function(e){function t(t){for(var r,i,a=t[0],c=t[1],s=t[2],p=0,d=[];p<a.length;p++)i=a[p],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);d.length;)d.shift()();return u.push.apply(u,s||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(u.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={22:0},u=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var a=window.webpackJsonp__wpex_nextgen=window.webpackJsonp__wpex_nextgen||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var l=c;return u.push([103,20]),n()}({0:function(e,t){e.exports=window.wp.element},103:function(e,t,n){e.exports=n(114)},114:function(e,t,n){"use strict";n.r(t),n.d(t,"UpdateDependencyModal",(function(){return M}));var r,o,u=n(0),i=n(3),a=n(12),c=n(2),s=n(40),l=n.n(s),p=n(9),d=n.n(p),f=n(23),x=n.n(f),b=n(4),w=n(39),y=n.n(w),g="nextgen/update-dependency",h="undefined"!=typeof nextgenForceUpdates&&"true"===(null===(r=nextgenForceUpdates)||void 0===r?void 0:r.updatesAvailable),v="undefined"!=typeof nextgenForceUpdates&&"true"===(null===(o=nextgenForceUpdates)||void 0===o?void 0:o.updatesWereForced),_=n(8),O=n.n(_),m=n(38),j={updateDependencyModal:h},M=(Object(b.registerStore)(g,{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TRIGGER_LOCATION_RELOAD":return location.href=Object(m.addQueryArgs)(location.href,O()({},"nextgen-update-forced",!0)),e}return e},actions:{triggerReload:function(){return{type:"TRIGGER_LOCATION_RELOAD"}}},selectors:{isUpdateDependencyModalVisible:function(e){return e.updateDependencyModal||!1}}}),n(104),function(){return(e=Object(b.useSelect)((function(e){return{isVisible:e(g).isUpdateDependencyModalVisible()}}),[]).isVisible,t=Object(b.useDispatch)(g).triggerReload,n=Object(b.useDispatch)("core/notices").createNotice,r=Object(u.useState)(h),o=d()(r,2),a=o[0],s=o[1],p=function(){var e=l()(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={path:"nextgen/do/update",method:"GET"},e.next=3,y()(n).then((function(){return f()}));case 3:return e.next=5,t();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){y()({path:"nextgen/get/update",method:"GET"}).then((function(e){return s(!(null==e||!e[0]))}))},Object(u.useEffect)((function(){a&&(f(),p())}),[a]),Object(u.useEffect)((function(){v&&n("success",Object(c.__)("Update completed.","nextgen"),{type:"snackbar"})}),[v]),{isVisible:e}).isVisible&&Object(u.createElement)(i.Modal,{isDismissible:!1,shouldCloseOnEsc:!1,shouldCloseOnClickOutside:!1,className:"nextgen-update-dependency-modal",overlayClassName:"nextgen-update-dependency-modal-overlay"},Object(u.createElement)("h1",{className:"nextgen-modal__title"},Object(c.__)("Updating to the latest and greatest","nextgen")),Object(u.createElement)(i.Spinner,null),Object(u.createElement)("div",null,Object(c.__)("Please wait while we apply the latest update to your editor.","nextgen")),Object(u.createElement)("div",null,Object(c.__)("This shouldn't take long.","nextgen")));var e,t,n,r,o,a,s,p,f});Object(a.registerPlugin)("nextgen-update-dependency",{render:function(){return Object(u.createElement)(M,null)}})},12:function(e,t){e.exports=window.wp.plugins},2:function(e,t){e.exports=window.wp.i18n},20:function(e,t,n){var r=n(21);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},21:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},23:function(e,t){e.exports=window.regeneratorRuntime},25:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},26:function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,u=[],_n=!0,i=!1;try{for(n=n.call(e);!(_n=(r=n.next()).done)&&(u.push(r.value),!t||u.length!==t);_n=!0);}catch(e){i=!0,o=e}finally{try{_n||null==n.return||n.return()}finally{if(i)throw o}}return u}},e.exports.default=e.exports,e.exports.__esModule=!0},27:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},3:function(e,t){e.exports=window.wp.components},38:function(e,t){e.exports=window.wp.url},39:function(e,t){e.exports=window.wp.apiFetch},4:function(e,t){e.exports=window.wp.data},40:function(e,t){function n(e,t,n,r,o,u,i){try{var a=e[u](i),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,u){var i=e.apply(t,r);function a(e){n(i,o,u,a,c,"next",e)}function c(e){n(i,o,u,a,c,"throw",e)}a(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},8:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},9:function(e,t,n){var r=n(25),o=n(26),u=n(20),i=n(27);e.exports=function(e,t){return r(e)||o(e,t)||u(e,t)||i()},e.exports.default=e.exports,e.exports.__esModule=!0}});